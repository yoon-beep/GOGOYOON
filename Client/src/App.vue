<template>
  <div id="app" class="app-layout">
    <!-- ìƒë‹¨ í—¤ë” ì»´í¬ë„ŒíŠ¸ -->
    <gw-header />

    <!-- ê°€ìš´ë°: ì‚¬ì´ë“œë°” + ë©”ì¸ -->
    <div class="content-layout">
      <!-- ì‚¬ì´ë“œë°”: ì—´ë ¤ ìˆì„ ë•Œë§Œ ë Œë”ë§ -->
      <gw-sidebar
        v-if="isSidebarOpen"
        :current-path="$route.path"
        :is-logged-in="isLoggedIn"
        :user-name="userName"
        @close="closeSidebar"
      />

      <!-- ì˜¤ë¥¸ìª½ ë©”ì¸ ì˜ì—­ -->
      <main class="gw-main">
        <!-- ì‚¬ì´ë“œë°”ê°€ ë‹«í˜€ ìˆì„ ë•Œë§Œ ë³´ì´ëŠ” ì—´ê¸° ì•„ì´ì½˜ -->
        <button
          v-if="!isSidebarOpen"
          class="sidebar-open-in-main"
          @click="openSidebar"
          title="ì‚¬ì´ë“œë°” ì—´ê¸°"
        >
          ğŸˆ
        </button>

        <!-- ì‹¤ì œ í˜ì´ì§€ í™”ë©´ -->
        <router-view />
      </main>
    </div>

    <!-- í•˜ë‹¨ í‘¸í„° ì»´í¬ë„ŒíŠ¸ -->
    <gw-footer />
  </div>
</template>

<script>
import GwHeader from '@/components/layout/GwHeader.vue'
import GwSidebar from '@/components/layout/GwSidebar.vue'
import GwFooter from '@/components/layout/GwFooter.vue'

export default {
  name: 'App',
  components: {
    GwHeader,
    GwSidebar,
    GwFooter,
  },
  data () {
    return {
      isSidebarOpen: true,
      isLoggedIn: false,   // ë‚˜ì¤‘ì— ë¡œê·¸ì¸ ê¸°ëŠ¥ ë¶™ì¼ ë•Œ trueë¡œ ë°”ê¾¸ë©´ ë¨
      userName: 'í™ê¸¸ë™',  // ë‚˜ì¤‘ì— ë¡œê·¸ì¸í•œ ìœ ì € ì´ë¦„ìœ¼ë¡œ êµì²´
    }
  },
  methods: {
    closeSidebar () {
      this.isSidebarOpen = false
    },
    openSidebar () {
      this.isSidebarOpen = true
    },
  },
}
</script>

<style>
.app-layout {
  display: flex;
  flex-direction: column;
  min-height: 100vh;
  font-family: Avenir, Helvetica, Arial, sans-serif;
}

.content-layout {
  display: flex;
  flex: 1;
  min-height: 0;
}

/* ì˜¤ë¥¸ìª½ ë©”ì¸ ì˜ì—­ */
.gw-main {
  flex: 1;
  padding: 24px;
  box-sizing: border-box;
}

/* ì‚¬ì´ë“œë°” ì—´ê¸° ì•„ì´ì½˜ ë²„íŠ¼ */
.sidebar-open-in-main {
  display: inline-flex;
  align-items: center;
  justify-content: center;
  width: 28px;
  height: 28px;
  margin-bottom: 12px;
  border-radius: 50%;
  border: 1px solid #ccc;
  background: #fff;
  font-size: 20px;
  cursor: pointer;
  padding: 0;
}
.sidebar-open-in-main:hover {
  background: #f0f0f0;
}
</style>
