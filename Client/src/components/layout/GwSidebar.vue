<template>
  <aside class="sidebar">
    <!-- ìƒë‹¨: ìœ ì € ì •ë³´ + í˜„ì¬ ê²½ë¡œ + X ë²„íŠ¼ -->
    <div class="sidebar-top">
      <div class="user-block">
        <div class="user-name">
          {{ isLoggedIn ? userName + 'ë‹˜' : 'í™ê¸¸ë™ë‹˜(ì˜ˆì •)' }}
        </div>
        <div class="user-sub">
          {{ isLoggedIn ? 'ì •ìƒ ë¡œê·¸ì¸ ìƒíƒœ' : 'ë¡œê·¸ì¸ ê¸°ëŠ¥ ì˜ˆì •' }}
        </div>
      </div>

      <p class="current-path">í˜„ì¬ ê²½ë¡œ: {{ currentPath }}</p>

      <!-- ì‚¬ì´ë“œë°” ë‹«ê¸°(X) -->
      <button class="sidebar-close" @click="$emit('close')">
        ğŸˆ
      </button>
    </div>

    <!-- ë©”ë‰´ -->
    <nav class="nav">
      <router-link to="/">ë©”ì¸</router-link>
      <router-link to="/notice">ê³µì§€ì‚¬í•­</router-link>
      <router-link to="/mail">ë©”ì¼</router-link>
    </nav>
  </aside>
</template>

<script>
export default {
  name: 'GwSidebar',
  props: {
    currentPath: {
      type: String,
      required: true,
    },
    isLoggedIn: {
      type: Boolean,
      default: false,
    },
    userName: {
      type: String,
      default: 'í™ê¸¸ë™',
    },
  },
}
</script>

<style scoped>
.sidebar {
  width: 240px;
  padding: 16px;
  background: #f5f5f5;
  border-right: 1px solid #ddd;
  box-sizing: border-box;
  position: relative;
}

/* ìƒë‹¨ ë¸”ë¡ */
.sidebar-top {
  position: relative;
  padding-right: 24px; /* X ë²„íŠ¼ ìë¦¬ */
  margin-bottom: 16px;
}

/* ìœ ì € ì •ë³´ */
.user-block {
  margin-bottom: 8px;
}

.user-name {
  font-size: 14px;
  font-weight: 600;
  margin-bottom: 2px;
}

.user-sub {
  font-size: 12px;
  color: #777;
}

/* í˜„ì¬ ê²½ë¡œ */
.current-path {
  margin: 0;
  font-size: 12px;
  color: #666;
}

/* X ë²„íŠ¼ */
.sidebar-close {
  position: absolute;
  top: 0;
  right: 0;
  width: 28px;
  height: 28px;
  border-radius: 50%;
  border: 1px solid #ccc;
  background: #fff;
  font-size: 20px;
  line-height: 16px;
  text-align: center;
  cursor: pointer;
  padding: 0;
}
/* ë©”ë‰´ */
.nav {
  display: flex;
  flex-direction: column;
  gap: 8px;
}

.nav a {
  text-decoration: none;
  color: #333;
  font-size: 14px;
}

.nav a.router-link-exact-active {
  font-weight: 600;
  color: #007bff;
}
</style>
